<!doctype html>
<html>
    <head>
        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <title>Content Manager</title>
        <link rel="stylesheet" href="https://liquid-theme.netlify.app/admin/ui-cms.css"/>
        <link rel="stylesheet" href="https://unpkg.com/netlify-cms@^1.0.0/dist/cms.css"/>
    </head>
    <body>
        <script src="https://unpkg.com/@ncwidgets/netlify-cms@^0.7.0/dist/netlify-cms.js"></script>
        <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
        <script type="module">
          import cms from 'netlify-cms-app'
          import htm from 'https://unpkg.com/htm?module'
          const html = htm.bind(h);
          const AgendaPreview = createClass({
            render: function() {
              return (
                html`
                  <div>
                    <h1 className='blogTitle'>${entry.getIn(['data', 'title'])}</h1>
                    <caption className='blogSubTitle'>${entry.getIn(['data', 'thumbnail'])}</caption>
                    <div className='text'>${widgetFor('body')}</div>
                  </div>
                `
              );
            }
          });
          cms.registerPreviewTemplate("agenda", AgendaPreview);
          import { Widget as FileRelationWidget } from '@ncwidgets/file-relation'
          cms.registerWidget(FileRelationWidget)
          cms.registerPreviewStyle("https://liquid-theme.netlify.app/admin/ui-panel.css");
          cms.init()
      </script>
    </body>
</html>
